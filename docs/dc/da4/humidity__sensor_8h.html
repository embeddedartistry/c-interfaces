<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded Artistry C Interfaces: virtual_devices/humidity_sensor.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Embedded Artistry C Interfaces
   </div>
   <div id="projectbrief">A reference collection of abstract interfaces in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_4c48e607e7c68c02fa43edfc29f787db.html">virtual_devices</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">humidity_sensor.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Example relative humidity interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for humidity_sensor.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d12/humidity__sensor_8h__incl.jpg" border="0" usemap="#avirtual__devices_2humidity__sensor_8h" alt=""/></div>
<map name="avirtual__devices_2humidity__sensor_8h" id="avirtual__devices_2humidity__sensor_8h">
<area shape="rect" title="Example relative humidity interface." alt="" coords="8,5,171,47"/>
<area shape="rect" title=" " alt="" coords="5,95,80,121"/>
<area shape="rect" title=" " alt="" coords="105,95,170,121"/>
</map>
</div>
</div>
<p><a href="../../dc/da4/humidity__sensor_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d33/struct_humidity_sensor.html">HumiditySensor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual Relative Humidity Sensor Interface.  <a href="../../d9/d33/struct_humidity_sensor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/struct_humidity_sensor__with_cb.html">HumiditySensor_withCb</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual Relative Humidity Sensor Interface with Callback Support.  <a href="../../d1/d7a/struct_humidity_sensor__with_cb.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a721f8be066daa5f7733fb269654e7a2e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/da4/humidity__sensor_8h.html#a721f8be066daa5f7733fb269654e7a2e">NewHumiditySampleCb</a>) (uint8_t humidity)</td></tr>
<tr class="memdesc:a721f8be066daa5f7733fb269654e7a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function prototype for processing new humidity samples.  <a href="../../dc/da4/humidity__sensor_8h.html#a721f8be066daa5f7733fb269654e7a2e">More...</a><br /></td></tr>
<tr class="separator:a721f8be066daa5f7733fb269654e7a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1157719e1fbfe901a885a76055390164"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/da4/humidity__sensor_8h.html#a1157719e1fbfe901a885a76055390164">HumidityErrorCb</a>) (void)</td></tr>
<tr class="memdesc:a1157719e1fbfe901a885a76055390164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function prototype for humidity sensor errors.  <a href="../../dc/da4/humidity__sensor_8h.html#a1157719e1fbfe901a885a76055390164">More...</a><br /></td></tr>
<tr class="separator:a1157719e1fbfe901a885a76055390164"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Example relative humidity interface. </p>
<p >This header defines the core interfaces for a virtual humdity. Two samples are provided:</p>
<ol type="1">
<li>A basic interface for reading humidity (<a class="el" href="../../d9/d33/struct_humidity_sensor.html" title="Virtual Relative Humidity Sensor Interface.">HumiditySensor</a>)</li>
<li>An interface expanded with support for callbacks (<a class="el" href="../../d1/d7a/struct_humidity_sensor__with_cb.html" title="Virtual Relative Humidity Sensor Interface with Callback Support.">HumiditySensor_withCb</a>)</li>
</ol>
<h2>Modifying the Interfaces</h2>
<p >There are a number of ways you might modify this interface to suit your needs:</p>
<ul>
<li>Change the type or format of the humidity value</li>
<li>Return the humidity sample, and use a separate function to determine validity</li>
<li>Supporting a purely asynchronous processing model (see <a class="el" href="../../d0/d08/barometric__sensor_8h.html" title="Example barometric pressure sensor interfaces that also support altitude calculations.">barometric_sensor.h</a> or asynchronous_interface.h for an example)</li>
</ul>
<h2>Possible Humidity Specifications</h2>
<p >For data format, we can consider a few options:</p>
<ul>
<li>Simply return an integral relative humidity (because the application does not care for higher resolution than that), rounded according to your preferred rounding rules.</li>
<li>Use a float</li>
<li>Use a 32-bit integer with fixed-point format UQ22.10 or UQ16.16 (giving us a range of [0, ~4 million] and resolution of 0.001)</li>
<li>Use a 16-bit integer with fixed-point format UQ7.9 (giving us a range of [0, 128] and resolution of [0.002]) </li>
</ul>

<p class="definition">Definition in file <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a1157719e1fbfe901a885a76055390164" name="a1157719e1fbfe901a885a76055390164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1157719e1fbfe901a885a76055390164">&#9670;&nbsp;</a></span>HumidityErrorCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* HumidityErrorCb) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function prototype for humidity sensor errors. </p>
<p >When an error in the virtual humidity device occurs, this callback function will be invoked. The virtual device itself does not support error handling capabilities, so we recommend using this callback in tightly-coupled system code to take the appropriate recovery action (restart the device, restart the system, etc.).</p>
<p >The callback is not guaranteed to run on its own thread of control. We recommend keeping the implementation small. Your function implementation could take the new sample and perform some dispatching operation (e.g., add the value to a queue), ensuring that any "heavy" processing happens on a new thread. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html#l00111">111</a> of file <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>.</p>

</div>
</div>
<a id="a721f8be066daa5f7733fb269654e7a2e" name="a721f8be066daa5f7733fb269654e7a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721f8be066daa5f7733fb269654e7a2e">&#9670;&nbsp;</a></span>NewHumiditySampleCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* NewHumiditySampleCb) (uint8_t humidity)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function prototype for processing new humidity samples. </p>
<p >When a new (and valid) humidity sample is available, this callback function will be invoked.</p>
<p >The callback is not guaranteed to run on its own thread of control. We recommend keeping the implementation small. Your function implementation could take the new sample and perform some dispatching operation (e.g., add the value to a queue), ensuring that any "heavy" processing happens on a new thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">humidity</td><td>The latest humidity sample. Humidity is specified as an integral perecentage. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html#l00096">96</a> of file <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
