<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded Artistry C Interfaces: BarometricSensor_asyncWithCb Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Embedded Artistry C Interfaces
   </div>
   <div id="projectbrief">A reference collection of abstract interfaces in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../dc/d48/struct_barometric_sensor__async_with_cb-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BarometricSensor_asyncWithCb Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Virtual Barometric Pressure/Altimeter Interface (asynchronous mode)  
 <a href="../../de/de1/struct_barometric_sensor__async_with_cb.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/d08/barometric__sensor_8h_source.html">barometric_sensor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aecf31a4d75b9f33610bac175b314d112"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de1/struct_barometric_sensor__async_with_cb.html#aecf31a4d75b9f33610bac175b314d112">readSample</a> )(void)</td></tr>
<tr class="memdesc:aecf31a4d75b9f33610bac175b314d112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a new current pressure/altitude sample from the device.  <a href="../../de/de1/struct_barometric_sensor__async_with_cb.html#aecf31a4d75b9f33610bac175b314d112">More...</a><br /></td></tr>
<tr class="separator:aecf31a4d75b9f33610bac175b314d112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef43fd4946c3aea8c8342fe65cbded3a"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de1/struct_barometric_sensor__async_with_cb.html#aef43fd4946c3aea8c8342fe65cbded3a">setSeaLevelPressure</a> )(uint32_t slp)</td></tr>
<tr class="memdesc:aef43fd4946c3aea8c8342fe65cbded3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the sea level pressure.  <a href="../../de/de1/struct_barometric_sensor__async_with_cb.html#aef43fd4946c3aea8c8342fe65cbded3a">More...</a><br /></td></tr>
<tr class="separator:aef43fd4946c3aea8c8342fe65cbded3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9357f98d8b2e41af11bdc63d11aa0f3"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de1/struct_barometric_sensor__async_with_cb.html#ab9357f98d8b2e41af11bdc63d11aa0f3">registerNewSampleCb</a> )(const <a class="el" href="../../d0/d08/barometric__sensor_8h.html#aa55487aacceb8034c0f58ce67a727228">NewBarometricSampleCb</a> callback)</td></tr>
<tr class="memdesc:ab9357f98d8b2e41af11bdc63d11aa0f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a NewBarometricSampleCb function.  <a href="../../de/de1/struct_barometric_sensor__async_with_cb.html#ab9357f98d8b2e41af11bdc63d11aa0f3">More...</a><br /></td></tr>
<tr class="separator:ab9357f98d8b2e41af11bdc63d11aa0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c295f17ebe253a9e9bb45f14a83707"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de1/struct_barometric_sensor__async_with_cb.html#a22c295f17ebe253a9e9bb45f14a83707">unregisterNewSampleCb</a> )(const <a class="el" href="../../d0/d08/barometric__sensor_8h.html#aa55487aacceb8034c0f58ce67a727228">NewBarometricSampleCb</a> callback)</td></tr>
<tr class="memdesc:a22c295f17ebe253a9e9bb45f14a83707"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a registered NewBarometricSampleCb function.  <a href="../../de/de1/struct_barometric_sensor__async_with_cb.html#a22c295f17ebe253a9e9bb45f14a83707">More...</a><br /></td></tr>
<tr class="separator:a22c295f17ebe253a9e9bb45f14a83707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cfa0795e217140396320a56114934f2"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de1/struct_barometric_sensor__async_with_cb.html#a3cfa0795e217140396320a56114934f2">registerErrorCb</a> )(const <a class="el" href="../../d0/d08/barometric__sensor_8h.html#a048ffd57648368fd123cc0674a0db7c5">BarometricErrorCb</a> callback)</td></tr>
<tr class="memdesc:a3cfa0795e217140396320a56114934f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a BarometricErrorCb function.  <a href="../../de/de1/struct_barometric_sensor__async_with_cb.html#a3cfa0795e217140396320a56114934f2">More...</a><br /></td></tr>
<tr class="separator:a3cfa0795e217140396320a56114934f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dd479afbd53a93fbd35108b811db2af"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de1/struct_barometric_sensor__async_with_cb.html#a5dd479afbd53a93fbd35108b811db2af">unregisterErrorCb</a> )(const <a class="el" href="../../d0/d08/barometric__sensor_8h.html#a048ffd57648368fd123cc0674a0db7c5">BarometricErrorCb</a> callback)</td></tr>
<tr class="memdesc:a5dd479afbd53a93fbd35108b811db2af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a registered BarometricErrorCb function.  <a href="../../de/de1/struct_barometric_sensor__async_with_cb.html#a5dd479afbd53a93fbd35108b811db2af">More...</a><br /></td></tr>
<tr class="separator:a5dd479afbd53a93fbd35108b811db2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Virtual Barometric Pressure/Altimeter Interface (asynchronous mode) </p>
<p >A standard interface for a device which can measure barometric pressure. This interface is intended for use with <em>asynchronous</em> implementations. That is, the readPressure() function cannot be a blocking function, but will instead be expected to enqueue a request to geneate a new pressure sample. The pressure sample, whenver it becomes available, will be passed along to interested parties via the registered callback functions.</p>
<h2>Fundamental Assumptions</h2>
<ul>
<li>The device produces barometric pressure readings<ul>
<li>This device reports barometric pressure in hectopascal (hPa)</li>
<li>The reported barometric pressure reading will be compensated for ambient temperature by the implementation if it is required.</li>
<li>Pressure will be formatted as a 32-bit fixed-point integer with format UQ22.10, giving a resolution of 0.001 hPa.</li>
</ul>
</li>
<li>This device produces barometric altitude readings<ul>
<li>This device will report barometric altitude in meters</li>
<li>Altitude will be formatted as a 32-bit fixed-point integer with format Q21.10, giving a resolution of 0.001 m.</li>
<li>Altitude will be corrected for Sea Level Pressure. If no value for SLP has been supplied, calculations will assume 1013.25 hPa.</li>
</ul>
</li>
<li>readPressure() will be used to request a new pressure sample from the device.</li>
<li>The device will notify interested parties when a new valid sample is available after a successful readPressure() request has completed.</li>
</ul>
<h2>Undesired event assumptions</h2>
<ul>
<li>If an error occurs internally, the virtual device will notify interested parties by issuing an error callback. The registered parties can take desired action when this occurs (e.g., attempt recovery, stop querying the sensor).</li>
<li>The readPressure() function will provide inidication if the request cannot be made (e.g., queue full)</li>
</ul>
<h2>Implementation Notes</h2>
<ul>
<li>readPressure() should be a non-blocking call. It should not directly query the sensor and wait for a response, but should instead send a request to a queue of some type.</li>
<li>Note that the callback registration functions do not support error handling. We recommend that implementers trigger an assert() or other crash if a callback cannot be added to a list due to exceeding fixed size constraints. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html#l00353">353</a> of file <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html">barometric_sensor.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="aecf31a4d75b9f33610bac175b314d112" name="aecf31a4d75b9f33610bac175b314d112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf31a4d75b9f33610bac175b314d112">&#9670;&nbsp;</a></span>readSample</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* BarometricSensor_asyncWithCb::readSample) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request a new current pressure/altitude sample from the device. </p>
<p >Submit a request to the device for a new sample. When available, the data will be provided to registered callback functions.</p>
<dl class="section pre"><dt>Precondition</dt><dd>The barometric sensor has been properly initialized by the system.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>True if the request was successful, False if the request could not be successfully enqueued (e.g., the queue is full). </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html#l00365">365</a> of file <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html">barometric_sensor.h</a>.</p>

</div>
</div>
<a id="a3cfa0795e217140396320a56114934f2" name="a3cfa0795e217140396320a56114934f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cfa0795e217140396320a56114934f2">&#9670;&nbsp;</a></span>registerErrorCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* BarometricSensor_asyncWithCb::registerErrorCb) (const <a class="el" href="../../d0/d08/barometric__sensor_8h.html#a048ffd57648368fd123cc0674a0db7c5">BarometricErrorCb</a> callback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a BarometricErrorCb function. </p>
<p >This function will add the callback input to a list of functions to execute when a pressure sensor error occurs.</p>
<dl class="section pre"><dt>Precondition</dt><dd>callback is not NULL </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>callback is added to the list of error callbacks.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback function pointer to register on the "error" callback list. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html#l00411">411</a> of file <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html">barometric_sensor.h</a>.</p>

</div>
</div>
<a id="ab9357f98d8b2e41af11bdc63d11aa0f3" name="ab9357f98d8b2e41af11bdc63d11aa0f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9357f98d8b2e41af11bdc63d11aa0f3">&#9670;&nbsp;</a></span>registerNewSampleCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* BarometricSensor_asyncWithCb::registerNewSampleCb) (const <a class="el" href="../../d0/d08/barometric__sensor_8h.html#aa55487aacceb8034c0f58ce67a727228">NewBarometricSampleCb</a> callback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a NewBarometricSampleCb function. </p>
<p >This function will add the callback input to a list of functions to execute when a new and valid sample is available.</p>
<dl class="section pre"><dt>Precondition</dt><dd>callback is not NULL </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>callback is added to the list of "new sample" callbacks.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback function pointer to register on the "new sample" callback list. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html#l00385">385</a> of file <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html">barometric_sensor.h</a>.</p>

</div>
</div>
<a id="aef43fd4946c3aea8c8342fe65cbded3a" name="aef43fd4946c3aea8c8342fe65cbded3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef43fd4946c3aea8c8342fe65cbded3a">&#9670;&nbsp;</a></span>setSeaLevelPressure</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* BarometricSensor_asyncWithCb::setSeaLevelPressure) (uint32_t slp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the sea level pressure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slp</td><td>The current sea level pressure in hPa. slp should be specified as an unsigned 32-bit fixed-point number in format UQ22.10. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html#l00372">372</a> of file <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html">barometric_sensor.h</a>.</p>

</div>
</div>
<a id="a5dd479afbd53a93fbd35108b811db2af" name="a5dd479afbd53a93fbd35108b811db2af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dd479afbd53a93fbd35108b811db2af">&#9670;&nbsp;</a></span>unregisterErrorCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* BarometricSensor_asyncWithCb::unregisterErrorCb) (const <a class="el" href="../../d0/d08/barometric__sensor_8h.html#a048ffd57648368fd123cc0674a0db7c5">BarometricErrorCb</a> callback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a registered BarometricErrorCb function. </p>
<p >This function will remove a callback function from the registered list of "error" callbacks. If the function has not been previously registered, the parameter will be ignored and the list will be unchanged.</p>
<dl class="section post"><dt>Postcondition</dt><dd>callback function pointer is not present on the list of "error" callbacks.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback function pointer to remove from the "error" callback list. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html#l00424">424</a> of file <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html">barometric_sensor.h</a>.</p>

</div>
</div>
<a id="a22c295f17ebe253a9e9bb45f14a83707" name="a22c295f17ebe253a9e9bb45f14a83707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22c295f17ebe253a9e9bb45f14a83707">&#9670;&nbsp;</a></span>unregisterNewSampleCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* BarometricSensor_asyncWithCb::unregisterNewSampleCb) (const <a class="el" href="../../d0/d08/barometric__sensor_8h.html#aa55487aacceb8034c0f58ce67a727228">NewBarometricSampleCb</a> callback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a registered NewBarometricSampleCb function. </p>
<p >This function will remove a callback function from the registered list of "new sample" callbacks. If the function has not been previously registered, the parameter will be ignored and the list will be unchanged.</p>
<dl class="section post"><dt>Postcondition</dt><dd>callback function pointer is not present on the list of "new sample" callbacks.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback function pointer to remove from the "new sample" callback list. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html#l00398">398</a> of file <a class="el" href="../../d0/d08/barometric__sensor_8h_source.html">barometric_sensor.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>virtual_devices/<a class="el" href="../../d0/d08/barometric__sensor_8h_source.html">barometric_sensor.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
