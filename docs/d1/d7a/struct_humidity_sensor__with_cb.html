<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded Artistry C Interfaces: HumiditySensor_withCb Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Embedded Artistry C Interfaces
   </div>
   <div id="projectbrief">A reference collection of abstract interfaces in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../dd/d69/struct_humidity_sensor__with_cb-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">HumiditySensor_withCb Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Virtual Relative Humidity Sensor Interface with Callback Support.  
 <a href="../../d1/d7a/struct_humidity_sensor__with_cb.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9e4ce38d9aef4883945a341f32e9d378"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/struct_humidity_sensor__with_cb.html#a9e4ce38d9aef4883945a341f32e9d378">readHumidity</a> )(uint8_t *const humidity)</td></tr>
<tr class="memdesc:a9e4ce38d9aef4883945a341f32e9d378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current relative humidity.  <a href="../../d1/d7a/struct_humidity_sensor__with_cb.html#a9e4ce38d9aef4883945a341f32e9d378">More...</a><br /></td></tr>
<tr class="separator:a9e4ce38d9aef4883945a341f32e9d378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a938db1da5f4949dc40e8d4940f59bdf8"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/struct_humidity_sensor__with_cb.html#a938db1da5f4949dc40e8d4940f59bdf8">registerNewSampleCb</a> )(const <a class="el" href="../../dc/da4/humidity__sensor_8h.html#a721f8be066daa5f7733fb269654e7a2e">NewHumiditySampleCb</a> callback)</td></tr>
<tr class="memdesc:a938db1da5f4949dc40e8d4940f59bdf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a NewHumiditySampleCb function.  <a href="../../d1/d7a/struct_humidity_sensor__with_cb.html#a938db1da5f4949dc40e8d4940f59bdf8">More...</a><br /></td></tr>
<tr class="separator:a938db1da5f4949dc40e8d4940f59bdf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f03385f588d6b8bf53f4f2f081e6319"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/struct_humidity_sensor__with_cb.html#a8f03385f588d6b8bf53f4f2f081e6319">unregisterNewSampleCb</a> )(const <a class="el" href="../../dc/da4/humidity__sensor_8h.html#a721f8be066daa5f7733fb269654e7a2e">NewHumiditySampleCb</a> callback)</td></tr>
<tr class="memdesc:a8f03385f588d6b8bf53f4f2f081e6319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a registered NewHumiditySampleCb function.  <a href="../../d1/d7a/struct_humidity_sensor__with_cb.html#a8f03385f588d6b8bf53f4f2f081e6319">More...</a><br /></td></tr>
<tr class="separator:a8f03385f588d6b8bf53f4f2f081e6319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a355fc5da42f193d37a74b1a84c575da7"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/struct_humidity_sensor__with_cb.html#a355fc5da42f193d37a74b1a84c575da7">registerErrorCb</a> )(const <a class="el" href="../../dc/da4/humidity__sensor_8h.html#a1157719e1fbfe901a885a76055390164">HumidityErrorCb</a> callback)</td></tr>
<tr class="memdesc:a355fc5da42f193d37a74b1a84c575da7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a HumidityErrorCb function.  <a href="../../d1/d7a/struct_humidity_sensor__with_cb.html#a355fc5da42f193d37a74b1a84c575da7">More...</a><br /></td></tr>
<tr class="separator:a355fc5da42f193d37a74b1a84c575da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa14a629abd339238b0be4406b61f32d9"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d7a/struct_humidity_sensor__with_cb.html#aa14a629abd339238b0be4406b61f32d9">unregisterErrorCb</a> )(const <a class="el" href="../../dc/da4/humidity__sensor_8h.html#a1157719e1fbfe901a885a76055390164">HumidityErrorCb</a> callback)</td></tr>
<tr class="memdesc:aa14a629abd339238b0be4406b61f32d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a registered HumidityErrorCb function.  <a href="../../d1/d7a/struct_humidity_sensor__with_cb.html#aa14a629abd339238b0be4406b61f32d9">More...</a><br /></td></tr>
<tr class="separator:aa14a629abd339238b0be4406b61f32d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Virtual Relative Humidity Sensor Interface with Callback Support. </p>
<p >A standard interface for a device which can measure relative humidity. Interested parties can receive callbacks when new samples are available.</p>
<p >This device returns relative humdity, rounded to the nearest whole percentage.</p>
<h2>Fundamental Assumptions</h2>
<ul>
<li>The device produces relative humidity (RH) readings</li>
<li>The device reports RH as a percentage</li>
<li>The device will indicate whether the current reading is valid or invalid</li>
<li>The device will notify interested parties when a new reading is available</li>
</ul>
<h2>Undesired event assumptions</h2>
<ul>
<li>If an error occurs internally, the virtual device will notify interested parties by issuing an error callback. The registered parties can take desired action when this occurs (e.g., attempt recovery, stop querying the sensor).</li>
</ul>
<h2>Implementation Notes</h2>
<ul>
<li>This interface, at its core, appears to be blocking. However, you can still implement this interface in a non-blocking way. For example, you could always return the most recent humidity measurement, while there is another thread that handles updates to that measurement asynchronously.</li>
<li>Note that the callback registration functions do not support error handling. We recommend that implementers trigger an assert() or other crash if a callback cannot be added to a list due to exceeding fixed size constraints. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html#l00141">141</a> of file <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a9e4ce38d9aef4883945a341f32e9d378" name="a9e4ce38d9aef4883945a341f32e9d378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e4ce38d9aef4883945a341f32e9d378">&#9670;&nbsp;</a></span>readHumidity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* HumiditySensor_withCb::readHumidity) (uint8_t *const humidity)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current relative humidity. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The sensor has been properly initialized by the system. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>If the measurement is valid and the humidity parameter is not NULL, the data pointed to will be updated with the latest reading </dd>
<dd>
If the measurement is invalid, the data pointed to by the humidity parameter will remain unchanged. </dd>
<dd>
If the measurement is valid, registered New Sample callbacks will be invoked or dispatched with the new measurement. </dd>
<dd>
If the measurement is not valid, registered Error callbacks will be invoked or dispatched.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">humidity</td><td>Current relative humidity in %. If humidity is NULL, the function will only supply the humidity sample to registered callback functions.</td></tr>
  </table>
  </dd>
</dl>
<p>Humidity is specified as an integral perecentage.</p>
<dl class="section return"><dt>Returns</dt><dd>True if the sample is valid, false if invalid (e.g., an error occured) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html#l00163">163</a> of file <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>.</p>

</div>
</div>
<a id="a355fc5da42f193d37a74b1a84c575da7" name="a355fc5da42f193d37a74b1a84c575da7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a355fc5da42f193d37a74b1a84c575da7">&#9670;&nbsp;</a></span>registerErrorCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HumiditySensor_withCb::registerErrorCb) (const <a class="el" href="../../dc/da4/humidity__sensor_8h.html#a1157719e1fbfe901a885a76055390164">HumidityErrorCb</a> callback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a HumidityErrorCb function. </p>
<p >This function will add the callback input to a list of functions to execute when a humidity sensor error occurs.</p>
<dl class="section pre"><dt>Precondition</dt><dd>callback is not NULL </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>callback is added to the list of error callbacks.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback function pointer to register on the "error" callback list. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html#l00202">202</a> of file <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>.</p>

</div>
</div>
<a id="a938db1da5f4949dc40e8d4940f59bdf8" name="a938db1da5f4949dc40e8d4940f59bdf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a938db1da5f4949dc40e8d4940f59bdf8">&#9670;&nbsp;</a></span>registerNewSampleCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HumiditySensor_withCb::registerNewSampleCb) (const <a class="el" href="../../dc/da4/humidity__sensor_8h.html#a721f8be066daa5f7733fb269654e7a2e">NewHumiditySampleCb</a> callback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a NewHumiditySampleCb function. </p>
<p >This function will add the callback input to a list of functions to execute when a new and valid sample is available.</p>
<dl class="section pre"><dt>Precondition</dt><dd>callback is not NULL </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>callback is added to the list of "new sample" callbacks.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback function pointer to register on the "new sample" callback list. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html#l00176">176</a> of file <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>.</p>

</div>
</div>
<a id="aa14a629abd339238b0be4406b61f32d9" name="aa14a629abd339238b0be4406b61f32d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa14a629abd339238b0be4406b61f32d9">&#9670;&nbsp;</a></span>unregisterErrorCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HumiditySensor_withCb::unregisterErrorCb) (const <a class="el" href="../../dc/da4/humidity__sensor_8h.html#a1157719e1fbfe901a885a76055390164">HumidityErrorCb</a> callback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a registered HumidityErrorCb function. </p>
<p >This function will remove a callback function from the registered list of "error" callbacks. If the function has not been previously registered, the parameter will be ignored and the list will be unchanged.</p>
<dl class="section post"><dt>Postcondition</dt><dd>callback function pointer is not present on the list of "error" callbacks.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback function pointer to remove from the "error" callback list. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html#l00215">215</a> of file <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>.</p>

</div>
</div>
<a id="a8f03385f588d6b8bf53f4f2f081e6319" name="a8f03385f588d6b8bf53f4f2f081e6319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f03385f588d6b8bf53f4f2f081e6319">&#9670;&nbsp;</a></span>unregisterNewSampleCb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HumiditySensor_withCb::unregisterNewSampleCb) (const <a class="el" href="../../dc/da4/humidity__sensor_8h.html#a721f8be066daa5f7733fb269654e7a2e">NewHumiditySampleCb</a> callback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a registered NewHumiditySampleCb function. </p>
<p >This function will remove a callback function from the registered list of "new sample" callbacks. If the function has not been previously registered, the parameter will be ignored and the list will be unchanged.</p>
<dl class="section post"><dt>Postcondition</dt><dd>callback function pointer is not present on the list of "new sample" callbacks.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback function pointer to remove from the "new sample" callback list. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html#l00189">189</a> of file <a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>virtual_devices/<a class="el" href="../../dc/da4/humidity__sensor_8h_source.html">humidity_sensor.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
